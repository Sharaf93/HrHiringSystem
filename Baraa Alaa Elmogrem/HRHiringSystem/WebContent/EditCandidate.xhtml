<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<!-- jsf:pagecode language="java" location="/src/pagecode/ViewCandidate.java" --><!-- /jsf:pagecode -->
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
	<title>ViewCandidate</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link href="Switch.css" rel="stylesheet" />
</h:head>
<h:body class="nav-md">
	<ui:composition template="/GeneralTemplate.xhtml">
		<ui:define name="title">
			<title>Edit Candidate</title>
		</ui:define>

		<ui:define name="content">
			<div class="col-sm-9 col-sm-offset-3 col-lg-10 col-lg-offset-2 main">
				<div class="container body">
					<div class="main_container">

						<!-- page content -->
						<div class="right_col" role="main" style="min-height: 1628px;">
							<div class="">
								<!-- page title -->
								<div class="page-title">
									<div class="title_left">
										<h3 style="color: MidnightBlue;">Edit Candidate</h3>
									</div>
									<!-- /page_left -->
								</div>
								<!-- /page-title -->

								<div class="clearfix"></div>

								<!-- panels -->
								<div class="row">
									<div class="col-md-12 col-sm-12 col-xs-12">
										<h:form id="myForm"
											class="form-horizontal form-label-left input_mask"
											data-parsley-validate="true" novalidate="true">

											<!-- panel1 -->
											<div class="x_panel">
												<!-- panel1 title -->
												<div class="x_title">
													<h2 style="color: blue">Personal Info.</h2>
													<!-- navigation-bar of panel1 -->
													<ul class="nav navbar-right panel_toolbox">
														<li><a class="collapse-link"><i
																class="fa fa-chevron-up"></i></a></li>
														<li><a class="close-link"><i class="fa fa-close"></i></a></li>
													</ul>
													<!-- /navigation-bar of panel1 -->
													<div class="clearfix"></div>
												</div>
												<!-- /x_title -->
												<!-- /panel1 title -->

												<!-- panel1 content -->
												<div class="x_content">

													<div
														class="col-md-6 col-sm-6 col-xs-12 form-group has-feedback">
														<h:outputLabel>Full Name * :</h:outputLabel>
														<h:inputText type="text"
															class="form-control has-feedback-left"
															id="FullNameCandidate" required="true"
															validatorMessage="Please Enter Candidate's Fullname in letters only"
															value="#{ManagedBean.candidateToBeViewed.fullname}"
															requiredMessage="Please Enter Candidate's Fullname">

															<f:validateRegex pattern="[A-Za-z ]+" />
														</h:inputText>
														<h:message for="FullNameCandidate" style="color:orange" />
													</div>


													<div
														class="col-md-6 col-sm-6 col-xs-12 form-group has-feedback">
														<h:outputLabel>Email * :</h:outputLabel>
														<h:inputText type="email"
															class="form-control has-feedback-left"
															id="EmailCandidate" required="true"
															value="#{ManagedBean.candidateToBeViewed.email}"
															validatorMessage="Please Enter Candidate's Email in the following format: example@example.com"
															requiredMessage="Please Enter Candidate's Email">
															<f:validateRegex
																pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
														</h:inputText>

														<h:message for="EmailCandidate" style="color:orange" />
														<h:outputText
															value="#{pc_CreateNewCandidateForm.emailExistsMsg}"
															style="color:red"></h:outputText>
													</div>

													<div
														class="col-md-6 col-sm-6 col-xs-12 form-group has-feedback">
														<h:outputLabel>Mobile Number * :</h:outputLabel>
														<p>
															<small>201xxxxxxxxx</small>
														</p>
														<h:inputText type="text" class="form-control"
															id="MobileNumberCandidate" required="true"
															value="#{ManagedBean.candidateToBeViewed.mobilenumber}"
															requiredMessage="Please Enter Candidate's Mobile Number"
															validatorMessage="Please Enter Candidate's Mobile Number as 11 digits starting with 201">
															<f:validateLongRange minimum="201000000000"
																maximum="201999999999"></f:validateLongRange>

														</h:inputText>

														<h:message for="MobileNumberCandidate"
															style="color:orange" />
														<h:outputText
															value="#{pc_CreateNewCandidateForm.numberExistsMsg}"
															style="color:red"></h:outputText>
													</div>

													<div
														class="col-md-6 col-sm-6 col-xs-12 form-group has-feedback">
														<h:outputLabel>Phone Number :</h:outputLabel>
														<p>
															<small>202xxxxxxxx</small>
														</p>
														<h:inputText type="number" class="form-control"
															id="PhoneNumberCandidate"
															value="#{ManagedBean.candidateToBeViewed.phonenumber}"
															validatorMessage="Please Enter Candidate's Phone Number as 11 digits starting with 202">
															<f:validateLongRange minimum="20200000000"
																maximum="20299999999"></f:validateLongRange>

														</h:inputText>

														<h:message for="PhoneNumberCandidate" style="color:orange" />
													</div>

													<div
														class="col-md-9 col-sm-6 col-xs-12 form-group has-feedback">
														<h:outputLabel>Date Of Birth * :</h:outputLabel>
														<h:inputText id="BirthDateCandidate"
															class="date-picker form-control col-md-7 col-xs-12"
															required="true" type="text"
															validatorMessage="Please Enter Candidate's Birthdate in correct format as dd/mm/yyyy or dd.mm.yyyy or dd-mm-yyyy"
															requiredMessage="Please Enter Candidate's Birthdate"
															value="#{ManagedBean.candidateToBeViewed.dateofbirth}">
															<f:validateRegex
																pattern="^(?:(?:31(\/|-|\.)(?:0?[13578]|1[02]))\1|(?:(?:29|30)(\/|-|\.)(?:0?[1,3-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\/|-|\.)0?2\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0?[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$" />
														</h:inputText>
														<br />
														<h:message for="BirthDateCandidate" style="color:orange" />
													</div>

													<div
														class="col-md-6 col-sm-6 col-xs-12 form-group has-feedback">
														<div class="input-group">
															<div class="form-group">
																<h:outputLabel>Position Applied For *</h:outputLabel>
																<p>
																	<small>Default Value: First option in the list</small>
																</p>

															</div>
														</div>
													</div>
													<div
														class="col-lg-4 col-md-6 col-sm-6 col-xs-12 form-group has-feedback">
														<div class="input-group">
															<div class="form-group">
																<h:outputLabel>Source *</h:outputLabel>
																<p>
																	<small>Default Value: First option in the list</small>
																</p>
															</div>
														</div>
													</div>
													<div
														class="col-md-6 col-sm-6 col-xs-12 form-group has-feedback">

														<h:outputLabel>Years Of Experience * :</h:outputLabel>
														<p>
															<small>Default Value: 0</small>
														</p>
														<h:inputText type="number" class="form-control"
															id="ExperienceYearsCandidate" required="true"
															value="#{ManagedBean.candidateToBeViewed.yearsofexperience}"
															converterMessage="Please Enter a number between 0 and 100"
															validatorMessage="Please Enter a number between 0 and 100 "
															requiredMessage="Please Enter Candidate's Years Of Experience">
															<f:validateLongRange minimum="0" maximum="100"></f:validateLongRange>
														</h:inputText>
														<h:message for="ExperienceYearsCandidate"
															style="color:orange" />

													</div>
													<div
														class="col-md-6 col-sm-6 col-xs-12 form-group has-feedback">
														<h:outputLabel>Current Company :</h:outputLabel>
														<h:inputText type="text" class="form-control"
															id="CurrentCompanyCandidate"
															value="#{ManagedBean.candidateToBeViewed.currentcompanyname}"></h:inputText>
													</div>

													<div
														class="col-md-6 col-sm-6 col-xs-12 form-group has-feedback">
														<h:outputLabel>Current Position :</h:outputLabel>
														<h:inputText type="text" class="form-control"
															id="Currentcandidateposition"
															value="#{ManagedBean.candidateToBeViewed.currentposition}"></h:inputText>

													</div>

													<div
														class="col-lg-4 col-md-6 col-sm-6 col-xs-12 form-group has-feedback">
														<div class="input-group">
															<div class="form-group">
																<h:outputLabel>Assigned HR Resource *</h:outputLabel>
																<p>
																	<small>Default Value: First option in the list</small>
																</p>
															</div>
														</div>
													</div>

													<div
														class="col-lg-4 col-md-6 col-sm-6 col-xs-12 form-group has-feedback">
														<div class="form-group">
															<h:outputLabel>Upload CV</h:outputLabel>

															<p>
																<small>Upload Candidates CV in pdf/word Format
																	here.</small>
															</p>
														</div>
													</div>
												</div>
												<!-- /x_content -->
												<!-- /panel1 content -->

											</div>
											<!-- /x_panel -->
											<!-- /panel1 -->

											<ui:repeat id="repeatPhases" var="o"
												value="#{ManagedBean.phaseDetailsByCandidateIdList}"
												varStatus="stat">
												<h:panelGroup
													rendered="#{ManagedBean.candidateToBeViewed.phase.name != o.phas.name}"
													layout="block">
													<!-- panelN -->
													<div class="x_panel">
														<!-- panelN title -->
														<div class="x_title">
															<h2 style="color: blue">#{o.phas.name}</h2>
															<!-- navigation-bar of panelN -->
															<ul class="nav navbar-right panel_toolbox">
																<li><h:outputLabel id="PhaseStatus2"
																		style="font-weight: bold; font-size: 160%; text-align: left;"
																		class="control-label" value="#{o.phaseStatus.name}" />
																</li>
																<li><a class="collapse-link"><i
																		class="fa fa-chevron-up"></i></a></li>
																<li><a class="close-link"><i
																		class="fa fa-close"></i></a></li>
															</ul>
															<!-- /navigation-bar of panelN -->
															<div class="clearfix"></div>
														</div>
														<!-- /x_title -->
														<!-- /panelN title -->

														<!-- panelN content -->
														<div class="x_content">

															<div class="form-group">
																<h:outputLabel class="control-label" value="Date :" />
																<h:inputText value="#{o.dateofphase}" id="dateCalender"
																	class="form-control myCalender"></h:inputText>
															</div>

															<h:panelGroup layout="block"
																rendered="#{o.phas.name eq 'Tests Phase'}">
																<ui:repeat id="testsRepeat" var="m"
																	value="#{ManagedBean.testDetailsList}">
																	<div class="form-group">
																		<h:outputLabel class="control-label"
																			value="#{m.test.name} Test Score : #{m.score}" />
																	</div>
																</ui:repeat>
															</h:panelGroup>

															<div class="form-group has-feedback">
																<h:panelGroup layout="block"
																	rendered="#{o.phas.name eq 'HR Interview'}">
																	<h:outputLabel>Current/Expected Salary :</h:outputLabel>
																	<h:inputText type="text" class="form-control"
																		id="CurrentCompanySalaryCandidate"
																		value="#{ManagedBean.candidateToBeViewed.currentsalary}"></h:inputText>

																</h:panelGroup>
															</div>

															<div class="form-group">
																<label class="control-label">Comment : </label>
																<h:inputText value="#{o.comments}" class="form-control"
																	id="commentInputId"></h:inputText>
															</div>

														</div>

														<!-- /x_content -->
														<!-- /panelN content -->

													</div>
													<!-- /x_paneN -->
													<!-- /panelN -->

												</h:panelGroup>
											</ui:repeat>



													<!-- panelN -->
													<div class="x_panel">
														<!-- panelN title -->
														<div class="x_title">
															<h2 style="color: blue">#{ManagedBean.candidateToBeViewed.phase.name}</h2>
															<!-- navigation-bar of panelN -->
															<ul class="nav navbar-right panel_toolbox">
																<li><h:outputLabel id="PhaseStatus1"
																		style="font-weight: bold; font-size: 160%; text-align: left;"
																		class="control-label" value="#{ManagedBean.currentPhaseDetailOfEdit.phaseStatus.name}" />
																</li>
																<li><a class="collapse-link"><i
																		class="fa fa-chevron-up"></i></a></li>
																<li><a class="close-link"><i
																		class="fa fa-close"></i></a></li>
															</ul>
															<!-- /navigation-bar of panelN -->
															<div class="clearfix"></div>
														</div>
														<!-- /x_title -->
														<!-- /panelN title -->

														<!-- panelN content -->
														<div class="x_content">


															<div class="form-group">
																<h:panelGroup
																	layout="block">
																	<label>status: </label>
																	<br />
																	<label class="switch"> <h:selectBooleanCheckbox
																			id="myCheck" styleClass="selectBooleanCheckbox"
																			onchange="check()" value="#{ManagedBean.phaseStatus}" /><span
																		class="slider round" />
																	</label>
																</h:panelGroup>
															</div>

															<div class="form-group">
																<h:outputLabel class="control-label" value="Date :" />
																<h:inputText value="#{ManagedBean.currentPhaseDetailOfEdit.dateofphase}" id="dateCalender2"
																	class="form-control myCalender"></h:inputText>
															</div>

															<h:panelGroup layout="block"
																rendered="#{ManagedBean.currentPhaseDetailOfEdit.phas.name eq 'Tests Phase'}">
																<ui:repeat id="testsRepeat2" var="m"
																	value="#{ManagedBean.testDetailsList}">
																	<div class="form-group">
																		<h:outputLabel class="control-label"
																			value="#{m.test.name} Test Score : #{m.score}" />
																	</div>
																</ui:repeat>
															</h:panelGroup>

															<div class="form-group has-feedback">
																<h:panelGroup layout="block"
																	rendered="#{ManagedBean.currentPhaseDetailOfEdit.phas.name eq 'HR Interview'}">
																	<h:outputLabel>Current/Expected Salary :</h:outputLabel>
																	<h:inputText type="text" class="form-control"
																		id="CurrentCompanySalaryCandidate2"
																		value="#{ManagedBean.candidateToBeViewed.currentsalary}"></h:inputText>

																</h:panelGroup>
															</div>


															<h:panelGroup
																layout="block" id="ROFDIV" class="form-group">
																<label>Reason Of Failure : </label>
																<h:selectOneMenu class="form-control"
																	value="#{ManagedBean.reasonOfFailureId}">
																	<f:selectItems
																		value="#{ManagedBean.reasonsDropDownMap}"></f:selectItems>
																</h:selectOneMenu>
															</h:panelGroup>

															<div class="form-group">
																<label class="control-label">Comment : </label>
																<h:inputText value="#{ManagedBean.currentPhaseDetailOfEdit.comments}" class="form-control"
																	id="commentInputId2"></h:inputText>
															</div>

														</div>

														<!-- /x_content -->
														<!-- /panelN content -->

													</div>
													<!-- /x_paneN -->
													<!-- /panelN -->

											<!-- command buttons -->
											<div class="form-group">
												<div class="col-md-9 col-sm-9 col-xs-12 col-md-offset-3">
													<h:commandButton type="submit" value="Create"
														class="btn btn-primary"
														action="#{ManagedBean.viewAndEditCandidate}">
														<f:param name="candidateId"
															value="#{ManagedBean.candidateToBeViewed.id}"></f:param>
													</h:commandButton>
													<h:commandButton type="submit" value="Cancel"
														immediate="true" class="btn btn-warning"></h:commandButton>
												</div>
											</div>
											<!-- command buttons -->

										</h:form>

									</div>
									<!-- /col-md-6 -->
								</div>
								<!-- /row -->
							</div>
							<!-- /empty class -->
						</div>
						<!-- /right_col -->
						<!-- /page content -->

					</div>
					<!-- /main_container -->
				</div>
				<!-- /container-body -->
			</div>
			<!-- /col-sm-9 -->
		</ui:define>

		<ui:define name="script_links">
			<script>
			function check() {
				if (document.getElementById("myForm:myCheck").checked === true) {
					document.getElementById("myForm:ROFDIV").style.display = "none";
				}

				else {
					document.getElementById("myForm:ROFDIV").style.display = "block";
				}
			}
		</script>

			<script src="DP.js" />
			<script
				src="resources/gentelella-master/production/js/datepicker/daterangepicker.js"></script>

		</ui:define>

	</ui:composition>

	<script>
		$(document).ready(function() {
			$("h:selectBooleanCheckbox").click(function() {
				$("p").toggle();
			});
		});
	</script>

	<script>
		document.getElementById("form:l:1:outputID").style.display = "none";
	</script>

	<script>
		!function($) {
			$(document)
					.on(
							"click",
							"ul.nav li.parent > a > span.icon",
							function() {
								$(this).find('em:first').toggleClass(
										"glyphicon-minus");
							});
			$(".sidebar span.icon").find('em:first').addClass("glyphicon-plus");
		}(window.jQuery);

		$(window).on('resize', function() {
			if ($(window).width() > 768)
				$('#sidebar-collapse').collapse('show')
		});
	</script>
	<script src="DP.js" />

</h:body>
</html>